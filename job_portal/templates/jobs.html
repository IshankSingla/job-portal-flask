{% extends "base.html" %}
{% block content %}

<h2 class="mb-4">Available Jobs</h2>

<form method="GET" class="row g-3 mb-4">
  <div class="col-md-3">
    <input type="text" name="title" class="form-control" placeholder="Job Title" value="{{ request.args.get('title', '') }}">
  </div>
  <div class="col-md-3">
    <input type="text" name="location" class="form-control" placeholder="Location" value="{{ request.args.get('location', '') }}">
  </div>
  <div class="col-md-3">
    <input type="text" name="company" class="form-control" placeholder="Company" value="{{ request.args.get('company', '') }}">
  </div>
  <div class="col-md-3">
    <button type="submit" class="btn btn-primary w-100">Search</button>
  </div>
</form>

<div class="row">
  {% for job in jobs %}
    <div class="col-md-6">
      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">{{ job.title }}</h5>
          <h6 class="card-subtitle mb-2 text-muted">{{ job.company }} â€“ {{ job.location }}</h6>
          <p class="card-text">{{ job.description[:100] }}...</p>
          <a href="{{ url_for('job_detail', job_id=job.id) }}" class="btn btn-outline-primary btn-sm">View Details</a>
        </div>
      </div>
    </div>
  {% else %}
    <p>No jobs found.</p>
  {% endfor %}
</div>

{% endblock %}
